{% extends "base.html" %}

{% block content %}
    <h2 style="margin-bottom: 30px;">최근 글</h2>
    {% if posts %}
        {% for post in posts %}
            <div class="post">
                <h2>{{ post.title }}</h2>
                <div class="post-meta">
                    작성자: {{ post.author }} | 작성일: {{ post.created_at }}
                </div>
                <div class="post-content">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</div>
                <div class="post-actions">
                    <a href="/post/{{ post.id }}" class="btn-small btn-view">자세히 보기</a>
                    {% if session.get('user') == post.author %}
                        <a href="/edit/{{ post.id }}" class="btn-small btn-edit">수정</a>
                        <a href="/delete/{{ post.id }}" class="btn-small btn-delete" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</a>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p style="text-align: center; color: #666; padding: 40px;">아직 작성된 글이 없습니다.</p>
    {% endif %}
{% endblock %}